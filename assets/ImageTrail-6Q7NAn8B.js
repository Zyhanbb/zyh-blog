var z=Object.defineProperty;var V=(a,e,o)=>e in a?z(a,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[e]=o;var t=(a,e,o)=>V(a,typeof e!="symbol"?e+"":e,o);import{r as M,j as y}from"./index-D1vqzENk.js";import{g as c}from"./index-CH_iu5NA.js";function l(a,e,o){return(1-o)*a+o*e}function u(a,e){let o=0,s=0;return"touches"in a&&a.touches.length>0?(o=a.touches[0].clientX,s=a.touches[0].clientY):"clientX"in a&&(o=a.clientX,s=a.clientY),{x:o-e.left,y:s-e.top}}function g(a,e){const o=a.x-e.x,s=a.y-e.y;return Math.hypot(o,s)}class P{constructor(e){t(this,"DOM",{el:null,inner:null});t(this,"defaultStyle",{scale:1,x:0,y:0,opacity:0});t(this,"rect",null);t(this,"resize");this.DOM.el=e,this.DOM.inner=this.DOM.el.querySelector(".content__img-inner"),this.getRect(),this.initEvents()}initEvents(){this.resize=()=>{c.set(this.DOM.el,this.defaultStyle),this.getRect()},window.addEventListener("resize",this.resize)}getRect(){this.rect=this.DOM.el.getBoundingClientRect()}}class T{constructor(e){t(this,"container");t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");this.container=e,this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0};const o=i=>{const h=this.container.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=this.container.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){const e=g(this.mousePos,this.lastMousePos);this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.1),e>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var o,s,i,h;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const e=this.images[this.imgPosition];c.killTweensOf(e.DOM.el),c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(e.DOM.el,{opacity:1,scale:1,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((o=e.rect)==null?void 0:o.width)??0)/2,y:this.cacheMousePos.y-(((s=e.rect)==null?void 0:s.height)??0)/2},{duration:.4,ease:"power1",x:this.mousePos.x-(((i=e.rect)==null?void 0:i.width)??0)/2,y:this.mousePos.y-(((h=e.rect)==null?void 0:h.height)??0)/2},0).to(e.DOM.el,{duration:.8,ease:"power3",opacity:0,scale:.2},.4)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}class D{constructor(e){t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0};const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){const e=g(this.mousePos,this.lastMousePos);this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.1),e>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var o,s,i,h;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const e=this.images[this.imgPosition];c.killTweensOf(e.DOM.el),c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(e.DOM.el,{opacity:1,scale:0,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((o=e.rect)==null?void 0:o.width)??0)/2,y:this.cacheMousePos.y-(((s=e.rect)==null?void 0:s.height)??0)/2},{duration:.4,ease:"power1",scale:1,x:this.mousePos.x-(((i=e.rect)==null?void 0:i.width)??0)/2,y:this.mousePos.y-(((h=e.rect)==null?void 0:h.height)??0)/2},0).fromTo(e.DOM.inner,{scale:2.8,filter:"brightness(250%)"},{duration:.4,ease:"power1",scale:1,filter:"brightness(100%)"},0).to(e.DOM.el,{duration:.8,ease:"power2",opacity:0,scale:.2},.45)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}class E{constructor(e){t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0};const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){const e=g(this.mousePos,this.lastMousePos);this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.1),e>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var o,s,i,h;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const e=this.images[this.imgPosition];c.killTweensOf(e.DOM.el),c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(e.DOM.el,{opacity:1,scale:0,zIndex:this.zIndexVal,xPercent:0,yPercent:0,x:this.cacheMousePos.x-(((o=e.rect)==null?void 0:o.width)??0)/2,y:this.cacheMousePos.y-(((s=e.rect)==null?void 0:s.height)??0)/2},{duration:.4,ease:"power1",scale:1,x:this.mousePos.x-(((i=e.rect)==null?void 0:i.width)??0)/2,y:this.mousePos.y-(((h=e.rect)==null?void 0:h.height)??0)/2},0).fromTo(e.DOM.inner,{scale:1.2},{duration:.4,ease:"power1",scale:1},0).to(e.DOM.el,{duration:.8,ease:"power2",opacity:0,scale:.2,xPercent:()=>c.utils.random(-30,30),yPercent:-200},.6)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}class L{constructor(e){t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0};const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){g(this.mousePos,this.lastMousePos)>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.1),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var h,n,m,r;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const e=this.images[this.imgPosition];c.killTweensOf(e.DOM.el);let o=this.mousePos.x-this.cacheMousePos.x,s=this.mousePos.y-this.cacheMousePos.y,i=Math.sqrt(o*o+s*s);i!==0&&(o/=i,s/=i),o*=i/100,s*=i/100,c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(e.DOM.el,{opacity:1,scale:0,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((h=e.rect)==null?void 0:h.width)??0)/2,y:this.cacheMousePos.y-(((n=e.rect)==null?void 0:n.height)??0)/2},{duration:.4,ease:"power1",scale:1,x:this.mousePos.x-(((m=e.rect)==null?void 0:m.width)??0)/2,y:this.mousePos.y-(((r=e.rect)==null?void 0:r.height)??0)/2},0).fromTo(e.DOM.inner,{scale:2,filter:`brightness(${Math.max(400*i/100,100)}%) contrast(${Math.max(400*i/100,100)}%)`},{duration:.4,ease:"power1",scale:1,filter:"brightness(100%) contrast(100%)"},0).to(e.DOM.el,{duration:.8,ease:"power3",opacity:0},.4).to(e.DOM.el,{duration:1.5,ease:"power4",x:`+=${o*110}`,y:`+=${s*110}`},.05)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}class O{constructor(e){t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");t(this,"lastAngle");this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0},this.lastAngle=0;const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){g(this.mousePos,this.lastMousePos)>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.1),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var r,I,v,d;let e=this.mousePos.x-this.cacheMousePos.x,o=this.mousePos.y-this.cacheMousePos.y,s=Math.atan2(o,e)*(180/Math.PI);s<0&&(s+=360),s>90&&s<=270&&(s+=180);const i=s>=this.lastAngle;this.lastAngle=s;let h=i?s-10:s+10;const n=Math.sqrt(e*e+o*o);n!==0&&(e/=n,o/=n),e*=n/150,o*=n/150,++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const m=this.images[this.imgPosition];c.killTweensOf(m.DOM.el),c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(m.DOM.el,{opacity:1,filter:"brightness(80%)",scale:.1,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((r=m.rect)==null?void 0:r.width)??0)/2,y:this.cacheMousePos.y-(((I=m.rect)==null?void 0:I.height)??0)/2,rotation:h},{duration:1,ease:"power2",scale:1,filter:"brightness(100%)",x:this.mousePos.x-(((v=m.rect)==null?void 0:v.width)??0)/2+e*70,y:this.mousePos.y-(((d=m.rect)==null?void 0:d.height)??0)/2+o*70,rotation:this.lastAngle},0).to(m.DOM.el,{duration:.8,ease:"expo",opacity:0},.5).to(m.DOM.el,{duration:1.5,ease:"power4",x:`+=${e*120}`,y:`+=${o*120}`},.05)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}class A{constructor(e){t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0};const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){const e=g(this.mousePos,this.lastMousePos);this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.3),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.3),e>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}mapSpeedToSize(e,o,s){return o+(s-o)*Math.min(e/200,1)}mapSpeedToBrightness(e,o,s){return o+(s-o)*Math.min(e/70,1)}mapSpeedToBlur(e,o,s){return o+(s-o)*Math.min(e/90,1)}mapSpeedToGrayscale(e,o,s){return o+(s-o)*Math.min(e/90,1)}showNextImage(){var I,v,d,x;const e=this.mousePos.x-this.cacheMousePos.x,o=this.mousePos.y-this.cacheMousePos.y,s=Math.sqrt(e*e+o*o);++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const i=this.images[this.imgPosition],h=this.mapSpeedToSize(s,.3,2),n=this.mapSpeedToBrightness(s,0,1.3),m=this.mapSpeedToBlur(s,20,0),r=this.mapSpeedToGrayscale(s,600,0);c.killTweensOf(i.DOM.el),c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(i.DOM.el,{opacity:1,scale:0,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((I=i.rect)==null?void 0:I.width)??0)/2,y:this.cacheMousePos.y-(((v=i.rect)==null?void 0:v.height)??0)/2},{duration:.8,ease:"power3",scale:h,filter:`grayscale(${r*100}%) brightness(${n*100}%) blur(${m}px)`,x:this.mousePos.x-(((d=i.rect)==null?void 0:d.width)??0)/2,y:this.mousePos.y-(((x=i.rect)==null?void 0:x.height)??0)/2},0).fromTo(i.DOM.inner,{scale:2},{duration:.8,ease:"power3",scale:1},0).to(i.DOM.el,{duration:.8,ease:"power3.in",opacity:0,scale:.2},.45)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}function R(a,e,o){const s=Math.abs(e)%o.length;return a-s>=0?a-s:o.length-(s-a)}class S{constructor(e){t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");t(this,"visibleImagesCount");t(this,"visibleImagesTotal");this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0},this.visibleImagesCount=0,this.visibleImagesTotal=9,this.visibleImagesTotal=Math.min(this.visibleImagesTotal,this.imagesTotal-1);const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){const e=g(this.mousePos,this.lastMousePos);this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.3),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.3),e>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var s,i,h,n;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const e=this.images[this.imgPosition];++this.visibleImagesCount,c.killTweensOf(e.DOM.el);const o=c.utils.random(.5,1.6);if(c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).fromTo(e.DOM.el,{scale:o-Math.max(c.utils.random(.2,.6),0),rotationZ:0,opacity:1,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((s=e.rect)==null?void 0:s.width)??0)/2,y:this.cacheMousePos.y-(((i=e.rect)==null?void 0:i.height)??0)/2},{duration:.4,ease:"power3",scale:o,rotationZ:c.utils.random(-3,3),x:this.mousePos.x-(((h=e.rect)==null?void 0:h.width)??0)/2,y:this.mousePos.y-(((n=e.rect)==null?void 0:n.height)??0)/2},0),this.visibleImagesCount>=this.visibleImagesTotal){const m=R(this.imgPosition,this.visibleImagesTotal,this.images),r=this.images[m];c.to(r.DOM.el,{duration:.8,ease:"power4",opacity:0,scale:1.3,onComplete:()=>{this.activeImagesCount===0&&(this.isIdle=!0)}})}}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--}}class q{constructor(e){t(this,"container");t(this,"DOM");t(this,"images");t(this,"imagesTotal");t(this,"imgPosition");t(this,"zIndexVal");t(this,"activeImagesCount");t(this,"isIdle");t(this,"threshold");t(this,"mousePos");t(this,"lastMousePos");t(this,"cacheMousePos");t(this,"rotation");t(this,"cachedRotation");t(this,"zValue");t(this,"cachedZValue");this.container=e,this.DOM={el:e},this.images=[...e.querySelectorAll(".content__img")].map(i=>new P(i)),this.imagesTotal=this.images.length,this.imgPosition=0,this.zIndexVal=1,this.activeImagesCount=0,this.isIdle=!0,this.threshold=80,this.mousePos={x:0,y:0},this.lastMousePos={x:0,y:0},this.cacheMousePos={x:0,y:0},this.rotation={x:0,y:0},this.cachedRotation={x:0,y:0},this.zValue=0,this.cachedZValue=0;const o=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h)};e.addEventListener("mousemove",o),e.addEventListener("touchmove",o);const s=i=>{const h=e.getBoundingClientRect();this.mousePos=u(i,h),this.cacheMousePos={...this.mousePos},requestAnimationFrame(()=>this.render()),e.removeEventListener("mousemove",s),e.removeEventListener("touchmove",s)};e.addEventListener("mousemove",s),e.addEventListener("touchmove",s)}render(){const e=g(this.mousePos,this.lastMousePos);this.cacheMousePos.x=l(this.cacheMousePos.x,this.mousePos.x,.1),this.cacheMousePos.y=l(this.cacheMousePos.y,this.mousePos.y,.1),e>this.threshold&&(this.showNextImage(),this.lastMousePos={...this.mousePos}),this.isIdle&&this.zIndexVal!==1&&(this.zIndexVal=1),requestAnimationFrame(()=>this.render())}showNextImage(){var x,f,p,w;const e=this.container.getBoundingClientRect(),o=e.width/2,s=e.height/2,i=this.mousePos.x-o,h=this.mousePos.y-s;this.rotation.x=-(h/s)*30,this.rotation.y=i/o*30,this.cachedRotation={...this.rotation};const n=Math.sqrt(i*i+h*h),m=Math.sqrt(o*o+s*s),r=n/m;this.zValue=r*1200-600,this.cachedZValue=this.zValue;const v=.2+(this.zValue+600)/1200*2.3;++this.zIndexVal,this.imgPosition=this.imgPosition<this.imagesTotal-1?this.imgPosition+1:0;const d=this.images[this.imgPosition];c.killTweensOf(d.DOM.el),c.timeline({onStart:()=>this.onImageActivated(),onComplete:()=>this.onImageDeactivated()}).set(this.DOM.el,{perspective:1e3},0).fromTo(d.DOM.el,{opacity:1,z:0,scale:1+this.cachedZValue/1e3,zIndex:this.zIndexVal,x:this.cacheMousePos.x-(((x=d.rect)==null?void 0:x.width)??0)/2,y:this.cacheMousePos.y-(((f=d.rect)==null?void 0:f.height)??0)/2,rotationX:this.cachedRotation.x,rotationY:this.cachedRotation.y,filter:`brightness(${v})`},{duration:1,ease:"expo",scale:1+this.zValue/1e3,x:this.mousePos.x-(((p=d.rect)==null?void 0:p.width)??0)/2,y:this.mousePos.y-(((w=d.rect)==null?void 0:w.height)??0)/2,rotationX:this.rotation.x,rotationY:this.rotation.y},0).to(d.DOM.el,{duration:.8,ease:"power2",opacity:0,z:-800},.3)}onImageActivated(){this.activeImagesCount++,this.isIdle=!1}onImageDeactivated(){this.activeImagesCount--,this.activeImagesCount===0&&(this.isIdle=!0)}}const C={1:T,2:D,3:E,4:L,5:O,6:A,7:S,8:q};function B({items:a=[],variant:e=1,enableClick:o=!1}){const s=M.useRef(null),i=M.useRef(null);return M.useEffect(()=>{if(!s.current)return;const h=C[e]||C[1],n=new h(s.current);i.current=n},[e,a]),M.useEffect(()=>{if(!o||!s.current)return;const h=m=>{if(i.current&&typeof i.current.showNextImage=="function"){const r=s.current.getBoundingClientRect();i.current.mousePos={x:m.clientX-r.left,y:m.clientY-r.top},i.current.cacheMousePos={...i.current.mousePos},i.current.showNextImage()}},n=s.current;return n.addEventListener("click",h),()=>{n.removeEventListener("click",h)}},[o]),y.jsx("div",{className:"content",ref:s,children:a.map((h,n)=>y.jsx("div",{className:"content__img",children:y.jsx("div",{className:"content__img-inner",style:{backgroundImage:`url(${h})`}})},n))})}export{B as default};
